[{"id":0,"href":"/linux-softwares/uxplay/","title":"UxPlay 开源AirPlay服务器","section":"Linux软件","content":" UxPlay 是一个开源的AirPlay Server. 通过它，可以将iOS/iPadOS设备的屏幕和声音投射到Linux, macOS(Intel芯片和M芯片), 和 Unix系统上，1.57版开始也支持Windows系统。\n使用体验 # 非常丝滑，清晰度也不错，延时还比较低，还支持硬件加速，整体性能非常出色。\n安装 # 以debian12为例，从源里面直接安装即可。\nsudo apt install uxplay 对于Intel和AMD的GPU(核显)，使用 VAAPI gstreamer 插件进行硬件解码。Intel测试下来使用核显延时会增加一些，AMD未测试。\nsudo apt-get install gstreamer1.0-vaapi 使用 # 运行uxplay命令，即可启动服务。然后iPhone从右上角下滑，点击 图标，即可搜索到uxplay服务，点击即可投屏。\nuxplay 可能遇到的问题 # 无法搜索到uxplay服务 可能是因为网络不通，可以尝试关闭防火墙。 可能是Avahi服务没有启动。 man uxplay # UXPLAY(1) User Commands UXPLAY(1) NAME uxplay - start AirPlay server SYNOPSIS uxplay [-n name] [-s wxh] [-p [n]] [more OPTIONS ...] DESCRIPTION UxPlay 1.62: An open-source AirPlay mirroring (+ audio streaming) server. OPTIONS -n name Specify the network name of the AirPlay server -nh Do NOT append \u0026#34;@hostname\u0026#34; at end of the AirPlay server name -s wxh[@r]Set display resolution [refresh_rate] default 1920x1080[@60] -o Set display \u0026#34;overscanned\u0026#34; mode on (not usually needed) -fs Full-screen (only works with X11, Wayland and VAAPI) -p Use legacy ports UDP 6000:6001:7011 TCP 7000:7001:7100 -p n Use TCP and UDP ports n,n+1,n+2. range 1024-65535 use \u0026#34;-p n1,n2,n3\u0026#34; to set each port, \u0026#34;n1,n2\u0026#34; for n3 = n2+1 \u0026#34;-p tcp n\u0026#34; or \u0026#34;-p udp n\u0026#34; sets TCP or UDP ports separately. -avdec Force software h264 video decoding with libav decoder. -vp prs Choose GStreamer h264 parser; default \u0026#34;h264parse\u0026#34; -vd dec Choose GStreamer h264 decoder; default \u0026#34;decodebin\u0026#34; choices: (software) avdec_h264; (hardware) v4l2h264dec, nvdec, nvh264dec, vaapih264dec, vtdec, ... -vc cnv Choose GStreamer videoconverter; default \u0026#34;videoconvert\u0026#34; another choice when using v4l2h264dec: v4l2convert. -vs sink Choose the GStreamer videosink; default \u0026#34;autovideosink\u0026#34; choices: ximagesink,xvimagesink,vaapisink,glimagesink, gtksink,waylandsink,osximagesink,kmssink,d3d11videosink,... -vs 0 Streamed audio only, with no video display window. -v4l2 Use Video4Linux2 for GPU hardware h264 video decoding. -bt709 A workaround (bt709 color) that may be needed with -rpi. -rpi Same as \u0026#34;-v4l2\u0026#34; (for RPi=Rasberry Pi). -rpigl Same as \u0026#34;-rpi -vs glimagesink\u0026#34; for RPi. -rpifb Same as \u0026#34;-rpi -vs kmssink\u0026#34; for RPi using framebuffer. -rpiwl Same as \u0026#34;-rpi -vs waylandsink\u0026#34; for RPi using Wayland. -as sink Choose the GStreamer audiosink; default \u0026#34;autoaudiosink\u0026#34; choices:pulsesink,alsasink,pipewiresink,osssink,oss4sink, jackaudiosink,osxaudiosink,wasapisink,directsoundsink,.. -as 0 (or -a) Turn audio off, streamed video only. -ao x.y Audio offset time in seconds (default 0.0) in Audio-only mode. -ca fn In Airplay Audio (ALAC) mode, write cover-art to file fn. -reset n Reset after 3n seconds client silence (default 5, 0=never). -nc Do not close video window when client stops mirroring -nohold Drop current connection when new client connects. -FPSdata Show video-streaming performance reports sent by client. -fps n Set maximum allowed streaming framerate, default 30 -f {H|V|I}Horizontal|Vertical flip, or both=Inversion=rotate 180 deg -r {R|L} Rotate 90 degrees Right (cw) or Left (ccw) -m Use random MAC address (use for concurrent UxPlay\u0026#39;s) -vdmp [n] Dump h264 video output to \u0026#34;fn.h264\u0026#34;; fn=\u0026#34;videodump\u0026#34;, change with \u0026#34;-vdmp [n] filename\u0026#34;. If [n] is given, file fn.x.h264 x=1,2,.. opens whenever a new SPS/PPS NAL arrives, and \u0026lt;=n NAL units are dumped. -admp [n] Dump audio output to \u0026#34;fn.x.fmt\u0026#34;, fmt ={aac, alac, aud}, x =1,2,..; fn=\u0026#34;audiodump\u0026#34;; change with \u0026#34;-admp [n] filename\u0026#34;. x increases when audio format changes. If n is given, \u0026lt;= n audio packets are dumped. \u0026#34;aud\u0026#34;= unknown format. -d Enable debug logging -v Displays version information -h Displays help information 1.62 January 2023 UXPLAY(1) "}]